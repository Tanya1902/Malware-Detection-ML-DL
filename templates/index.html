<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Malware Classification</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			background-color: #004d4d;
			color: #333;
			margin: 0;
			padding: 0;
			background-image: url('https://www.pngall.com/wp-content/uploads/13/Tech-PNG.png');
			background-repeat: no-repeat;
			background-attachment: fixed;
			background-size: cover;
		}
		.container {
			max-width : 50%;
			margin:auto;
			margin-top: 100px;
			padding: 20px;
			background-color: #adebeb;
			box-shadow: 10px 10px;
		}
		.sub{
			background-color: #00b3b3;
			padding: 40px;
		}
		h1 {
			text-align: center;
			margin-top: 0;
			color: #333;
			font-family:Georgia, serif;
		}
		h2 {
			margin-top: 50px;
			text-align: center;
			color: #004d4d;
		}
		.upload {
			text-align: center;
			display: inline-block;
			color: #333;
			padding: 5px 10px;
			border-radius: 5px;
		}
		.buttons{
			margin-left: 28%;
		}
		.dropbtn {
  background-color: white;
  color: black;
  padding: 10px;
  font-size: 16px;
  border: none;
}

.dropdown {
  position: relative;
  margin-left: 28%;
  margin-top: 5%;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 100px;
  box-shadow: 0px 4px 10px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

</style>
		
<script>
    
    document.getElementById('fileInput').addEventListener('change', function() {
		var file = this.files[0];
		var formData = new FormData();
		formData.append('file', file);
		var xhr = new XMLHttpRequest();
		xhr.open('POST', '/');
		xhr.onload = function() {
			if (xhr.status === 200) {
				console.log('File uploaded successfully.');
			} else {
				console.log('File upload failed.');
			}
		};
		xhr.send(formData);
	});

    function submitForm() {
      var dropdown = document.getElementById("modelDropdown");
      var selectedOption = dropdown.value;
    //   var fileInput = document.getElementById("fileInput");
    //   var file = fileInput.files[0];

      var formData = new FormData();
    //   formData.append('file', file);
      formData.append('option', selectedOption);

      fetch('/selection', {
        method: 'POST',
        body: formData
      })
      .then(response => response.text())
      .then(result => {
        console.log(result);
        // Perform actions based on the response
      })
      .catch(error => {
        console.log('Request failed:', error);
      });
    }
</script>	

</head>
<body>
		<div class="sub">
			<h1>Malware Classification</h1>
		</div>
		<div class="container">
		<h2>Upload a file to classify it as either legitimate or malicious.</h2>
		
		<form id="fileUploadForm" method="POST" enctype="multipart/form-data">
		<input type="file" id="fileInput" name="file" class="buttons">
		<input type="submit" value="Upload" class="upload" >
		<div id="dropdown" class="dropdown">
		<label for="modelDropdown">Select a Model:</label>
		
		<select id="modelDropdown">
			<option value="model1">Artificial Neaural Network</option>
			<option value="model2">Random Forrest</option>
			<option value="model3">Logistic Regression</option>
			<option value="model3">Linear SVC</option>
			<option value="model3">AdaBoost</option>
			<option value="model3">XGBoost</option>
		</select>
	    </div>
		<button class="buttons" onclick="submitForm()">Submit</button>
		</form>
        
		</br></br></br>
		<p style="text-align:center">Project by Tanya Sharma and Purnima</p>
		</div>
</body>
</html>